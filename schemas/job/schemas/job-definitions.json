{
  "$schema": "https://json-schema.org/draft-07/schema",
  "$defs": {
    "InputSource": {
      "$ref": "input-source.json#/$defs/InputSource"
    },
    "LabelSelectorRequirement": {
      "$ref": "label-selector-requirement.json#/$defs/LabelSelectorRequirement"
    },
    "NetworkConfig": {
      "$ref": "network-config.json#/$defs/NetworkConfig"
    },
    "ResourcesConfig": {
      "$ref": "resources-config.json#/$defs/ResourcesConfig"
    },
    "ResultPath": {
      "$ref": "result-path.json#/$defs/ResultPath"
    },
    "SpecConfigEngine": {
      "$ref": "eng.schema.json#/$defs/SpecConfigEngine"
    },
    "SpecConfigPublisher": {
      "$ref": "pub.schema.json#/$defs/SpecConfigPublisher"
    },
    "SpecConfigStorage": {
      "$ref": "strg.schema.json#/$defs/SpecConfigStorage"
    },
    "Task": {
      "$ref": "task.json#/$defs/Task"
    },
    "TimeoutConfig": {
      "$ref": "timeout-config.json#/$defs/TimeoutConfig"
    },
    "jobSchema": {
      "type": "object",
      "properties": {
        "Name": { "type": "string" },
        "Namespace": { "type": "string" },
        "Type": { "type": "string" },
        "Priority": { "type": "integer" },
        "Count": { "type": "integer" },
        "Constraints": {
          "type": "array",
          "items": { "$ref": "#/$defs/LabelSelectorRequirement" }
        },
        "Meta": {
          "type": "object",
          "additionalProperties": { "type": "string" }
        },
        "Labels": {
          "type": "object",
          "additionalProperties": { "type": "string" }
        },
        "Tasks": {
          "type": "array",
          "minItems": 1,
          "maxItems": 1,
          "items": { "$ref": "#/$defs/Task" }
        }
      },
      "required": [
        "Name", "Type", "Count", "Tasks"
      ],
      "additionalProperties": false
    }
  }
}
