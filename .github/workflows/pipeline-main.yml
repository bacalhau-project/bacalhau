name: Main Pipeline

on:
  push:
    branches: ["eng-292/jamlo/improve-go-linting-in-ci"]
#  pull_request:
#    branches: [main]
#  repository_dispatch:
#    types: [ok-to-test]

jobs:
  build:
    uses: ./.github/workflows/build.yml
    secrets: inherit

  testcontainers-suite:
    needs: build
    if: success()
    uses: ./.github/workflows/testcontainers-suite.yml
    with:
      os: linux
      arch: amd64
